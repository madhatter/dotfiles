## mutt configuration
# 
# first some includes for
# color
source ~/.mutt.colors
source ~/.mutt/colors/darkcourses

# mailinglist subscriptions
source ~/.mutt.subscribe

# macros
source ~/.mutt.macros

# GnuPG
source ~/.gpgrc

# personal information
set realname="Arvid Warnecke"
set from="arvid@nostalgix.org"
set use_from=yes
set envelope_from=yes
set followup_to
set reverse_name 

# set from automatically
unalternates ``*''
alternates arvid.warnecke@gmail.com
alternates arvid.warnecke@nostalgix.org
alternates madhatter@nostalgix.org

# Use msmtp rather than sendmail. Check that 
# the path is correct for your system:
set sendmail="/usr/bin/msmtp"   

# Incoming mail
set spoolfile = /var/spool/mail/madhatter

# Folders
set folder="$HOME/mail"      # Local mailboxes stored here
set record="+sent"           # Where to store sent messages
set postponed="+postponed"   # Where to store draft messages
set mbox_type=mbox           # Mailbox type
set move=ask-no				 # Don't move mail from spool by default
set include=yes				 # Quote message when replying
set mark_old=no				 # Don't mark new messages as old, when changing
							 # the mailbox
set auto_tag=yes			 # Functions in the index which affect a message
							 # will applied to all tagged messages if there are
set mbox="+archive"			 # Where mutt will store read messages

# Watch these mailboxes for new mail, useful only if 
# Procmail or Maildrop is used to sort mail.
mailboxes ! +list.ruby-talk +fetchmail +mutt +list.hbase-user +list.arch-general +list.arch-dev-public
set sort_browser=alpha    # Sort mailboxes by alpha(bet)
set sort=threads

# What to show and order of headers
ignore *
unignore Date: From: User-Agent: X-Mailer X-Operating-System To: \
         Cc: Reply-To: Subject: Mail-Followup-To:
         hdr_order Date: From: User-Agent: X-Mailer X-Operating-System To: \
                 Cc: Reply-To: Subject: Mail-Followup-To:

# Editor of choice
#set editor="vim -c 'set tw=70 et' '+/^$' " 
set editor="vim" 
set edit_headers=no      # See the headers when editing

# set date_format
set date_format="!%a, %b %d, %Y at %I:%M:%S%p %Z"

#set index_format="%4C %Z %{%b %d} %-15.15L (%4c) %s"
set index_format="%4C %4Z  %[%h %d %g %H:%M]  %-25.25F(%4c) %s"

# UTF-8
set charset="UTF-8"
set send_charset="us-ascii:iso-8859-15:utf-8"

set pager_stop=yes	# not move to the next message when you are at the end 
			# of a message and invoke the next-page function
set pager_context=2	# controls the number of lines of context that are given
			# when displaying the next or previous page in the internal pager
set pager_index_lines=10 # number of lines to display in a mini-pager above the message

set status_on_top
unset help

# view annoying html mail inline
auto_view text/html
alternative_order text/plain text/enriched text/html     # save html for last

## GPG-Configuration was sourced above
set pgp_autosign     
set pgp_replysign
# set pgp_encryptself           #does nothing, why?
set pgp_replyencrypt
set pgp_timeout=7200
set pgp_verify_sig=yes
set pgp_show_unusable=yes       #mutt will display non-usable keys
set pgp_sign_as="0x12942E7E"    #sign with arvid at nostalgix org

